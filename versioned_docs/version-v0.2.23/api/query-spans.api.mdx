---
id: query-spans
title: "Query spans."
description: "Query spans."
sidebar_label: "Query spans."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/llama-stack-specification
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Query spans."}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1/telemetry/spans"}
  context={"endpoint"}
>

</MethodEndpoint>



Query spans.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[]}
>

</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"attribute_filters":{"type":"array","items":{"type":"object","properties":{"key":{"type":"string","description":"The attribute key to filter on"},"op":{"description":"The comparison operator to apply","type":"string","enum":["eq","ne","gt","lt"],"title":"QueryConditionOp"},"value":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}],"description":"The value to compare against"}},"additionalProperties":false,"required":["key","op","value"],"title":"QueryCondition","description":"A condition for filtering query results."},"description":"The attribute filters to apply to the spans."},"attributes_to_return":{"type":"array","items":{"type":"string"},"description":"The attributes to return in the spans."},"max_depth":{"type":"integer","description":"The maximum depth of the tree."}},"additionalProperties":false,"required":["attribute_filters","attributes_to_return"],"title":"QuerySpansRequest"}}},"required":true}}
>

</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A QuerySpansResponse.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"span_id":{"type":"string","description":"Unique identifier for the span"},"trace_id":{"type":"string","description":"Unique identifier for the trace this span belongs to"},"parent_span_id":{"type":"string","description":"(Optional) Unique identifier for the parent span, if this is a child span"},"name":{"type":"string","description":"Human-readable name describing the operation this span represents"},"start_time":{"type":"string","format":"date-time","description":"Timestamp when the operation began"},"end_time":{"type":"string","format":"date-time","description":"(Optional) Timestamp when the operation finished, if completed"},"attributes":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]},"description":"(Optional) Key-value pairs containing additional metadata about the span"}},"additionalProperties":false,"required":["span_id","trace_id","name","start_time"],"title":"Span","description":"A span representing a single operation within a trace."},"description":"List of spans matching the query criteria"}},"additionalProperties":false,"required":["data"],"title":"QuerySpansResponse","description":"Response containing a list of spans."}}}},"400":{"description":"The request was invalid or malformed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":400,"title":"Bad Request","detail":"The request was invalid or malformed"}}}},"429":{"description":"The client has sent too many requests in a given amount of time","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":429,"title":"Too Many Requests","detail":"You have exceeded the rate limit. Please try again later."}}}},"500":{"description":"The server encountered an unexpected error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":500,"title":"Internal Server Error","detail":"An unexpected error occurred. Our team has been notified."}}}},"default":{"description":"An unexpected error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":0,"title":"Error","detail":"An unexpected error occurred"}}}}}}
>

</StatusCodes>
