---
id: rerank-a-list-of-documents-based-on-their-relevance-to-a-query
title: "Rerank a list of documents based on their relevance to a query."
description: "Rerank a list of documents based on their relevance to a query."
sidebar_label: "Rerank a list of documents based on their relevance to a query."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/llama-stack-specification
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Rerank a list of documents based on their relevance to a query."}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1/inference/rerank"}
  context={"endpoint"}
>

</MethodEndpoint>



Rerank a list of documents based on their relevance to a query.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[]}
>

</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"model":{"type":"string","description":"The identifier of the reranking model to use."},"query":{"oneOf":[{"type":"string"},{"type":"object","properties":{"type":{"type":"string","const":"text","default":"text","description":"Must be \"text\" to identify this as text content"},"text":{"type":"string","description":"The text content of the message"}},"additionalProperties":false,"required":["type","text"],"title":"OpenAIChatCompletionContentPartTextParam","description":"Text content part for OpenAI-compatible chat completion messages."},{"type":"object","properties":{"type":{"type":"string","const":"image_url","default":"image_url","description":"Must be \"image_url\" to identify this as image content"},"image_url":{"description":"Image URL specification and processing details","type":"object","properties":{"url":{"type":"string","description":"URL of the image to include in the message"},"detail":{"type":"string","description":"(Optional) Level of detail for image processing. Can be \"low\", \"high\", or \"auto\""}},"additionalProperties":false,"required":["url"],"title":"OpenAIImageURL"}},"additionalProperties":false,"required":["type","image_url"],"title":"OpenAIChatCompletionContentPartImageParam","description":"Image content part for OpenAI-compatible chat completion messages."}],"description":"The search query to rank items against. Can be a string, text content part, or image content part. The input must not exceed the model's max input token length."},"items":{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"object","properties":{"type":{"type":"string","const":"text","default":"text","description":"Must be \"text\" to identify this as text content"},"text":{"type":"string","description":"The text content of the message"}},"additionalProperties":false,"required":["type","text"],"title":"OpenAIChatCompletionContentPartTextParam","description":"Text content part for OpenAI-compatible chat completion messages."},{"type":"object","properties":{"type":{"type":"string","const":"image_url","default":"image_url","description":"Must be \"image_url\" to identify this as image content"},"image_url":{"description":"Image URL specification and processing details","type":"object","properties":{"url":{"type":"string","description":"URL of the image to include in the message"},"detail":{"type":"string","description":"(Optional) Level of detail for image processing. Can be \"low\", \"high\", or \"auto\""}},"additionalProperties":false,"required":["url"],"title":"OpenAIImageURL"}},"additionalProperties":false,"required":["type","image_url"],"title":"OpenAIChatCompletionContentPartImageParam","description":"Image content part for OpenAI-compatible chat completion messages."}]},"description":"List of items to rerank. Each item can be a string, text content part, or image content part. Each input must not exceed the model's max input token length."},"max_num_results":{"type":"integer","description":"(Optional) Maximum number of results to return. Default: returns all."}},"additionalProperties":false,"required":["model","query","items"],"title":"RerankRequest"}}},"required":true}}
>

</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"RerankResponse with indices sorted by relevance score (descending).","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"index":{"type":"integer","description":"The original index of the document in the input list"},"relevance_score":{"type":"number","description":"The relevance score from the model output. Values are inverted when applicable so that higher scores indicate greater relevance."}},"additionalProperties":false,"required":["index","relevance_score"],"title":"RerankData","description":"A single rerank result from a reranking response."},"description":"List of rerank result objects, sorted by relevance score (descending)"}},"additionalProperties":false,"required":["data"],"title":"RerankResponse","description":"Response from a reranking request."}}}},"400":{"description":"The request was invalid or malformed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":400,"title":"Bad Request","detail":"The request was invalid or malformed"}}}},"429":{"description":"The client has sent too many requests in a given amount of time","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":429,"title":"Too Many Requests","detail":"You have exceeded the rate limit. Please try again later."}}}},"500":{"description":"The server encountered an unexpected error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":500,"title":"Internal Server Error","detail":"An unexpected error occurred. Our team has been notified."}}}},"default":{"description":"An unexpected error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":0,"title":"Error","detail":"An unexpected error occurred"}}}}}}
>

</StatusCodes>
