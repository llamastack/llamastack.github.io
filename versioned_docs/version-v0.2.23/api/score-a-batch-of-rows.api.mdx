---
id: score-a-batch-of-rows
title: "Score a batch of rows."
description: "Score a batch of rows."
sidebar_label: "Score a batch of rows."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/llama-stack-specification
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Score a batch of rows."}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1/scoring/score-batch"}
  context={"endpoint"}
>

</MethodEndpoint>



Score a batch of rows.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[]}
>

</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"dataset_id":{"type":"string","description":"The ID of the dataset to score."},"scoring_functions":{"type":"object","additionalProperties":{"oneOf":[{"oneOf":[{"type":"object","properties":{"type":{"const":"llm_as_judge","default":"llm_as_judge","description":"The type of scoring function parameters, always llm_as_judge","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"judge_model":{"type":"string","description":"Identifier of the LLM model to use as a judge for scoring"},"prompt_template":{"type":"string","description":"(Optional) Custom prompt template for the judge model"},"judge_score_regexes":{"type":"array","items":{"type":"string"},"description":"Regexes to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","judge_model","judge_score_regexes","aggregation_functions"],"title":"LLMAsJudgeScoringFnParams","description":"Parameters for LLM-as-judge scoring function configuration."},{"type":"object","properties":{"type":{"const":"regex_parser","default":"regex_parser","description":"The type of scoring function parameters, always regex_parser","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"parsing_regexes":{"type":"array","items":{"type":"string"},"description":"Regex to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","parsing_regexes","aggregation_functions"],"title":"RegexParserScoringFnParams","description":"Parameters for regex parser scoring function configuration."},{"type":"object","properties":{"type":{"const":"basic","default":"basic","description":"The type of scoring function parameters, always basic","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","aggregation_functions"],"title":"BasicScoringFnParams","description":"Parameters for basic scoring function configuration."}],"discriminator":{"propertyName":"type","mapping":{"llm_as_judge":{"type":"object","properties":{"type":{"const":"llm_as_judge","default":"llm_as_judge","description":"The type of scoring function parameters, always llm_as_judge","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"judge_model":{"type":"string","description":"Identifier of the LLM model to use as a judge for scoring"},"prompt_template":{"type":"string","description":"(Optional) Custom prompt template for the judge model"},"judge_score_regexes":{"type":"array","items":{"type":"string"},"description":"Regexes to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","judge_model","judge_score_regexes","aggregation_functions"],"title":"LLMAsJudgeScoringFnParams","description":"Parameters for LLM-as-judge scoring function configuration."},"regex_parser":{"type":"object","properties":{"type":{"const":"regex_parser","default":"regex_parser","description":"The type of scoring function parameters, always regex_parser","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"parsing_regexes":{"type":"array","items":{"type":"string"},"description":"Regex to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","parsing_regexes","aggregation_functions"],"title":"RegexParserScoringFnParams","description":"Parameters for regex parser scoring function configuration."},"basic":{"type":"object","properties":{"type":{"const":"basic","default":"basic","description":"The type of scoring function parameters, always basic","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","aggregation_functions"],"title":"BasicScoringFnParams","description":"Parameters for basic scoring function configuration."}}},"title":"ScoringFnParams"},{"type":"null"}]},"description":"The scoring functions to use for the scoring."},"save_results_dataset":{"type":"boolean","description":"Whether to save the results to a dataset."}},"additionalProperties":false,"required":["dataset_id","scoring_functions","save_results_dataset"],"title":"ScoreBatchRequest"}}},"required":true}}
>

</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A ScoreBatchResponse.","content":{"application/json":{"schema":{"type":"object","properties":{"dataset_id":{"type":"string","description":"(Optional) The identifier of the dataset that was scored"},"results":{"type":"object","additionalProperties":{"type":"object","properties":{"score_rows":{"type":"array","items":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]}},"description":"The scoring result for each row. Each row is a map of column name to value."},"aggregated_results":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]},"description":"Map of metric name to aggregated value"}},"additionalProperties":false,"required":["score_rows","aggregated_results"],"title":"ScoringResult","description":"A scoring result for a single row."},"description":"A map of scoring function name to ScoringResult"}},"additionalProperties":false,"required":["results"],"title":"ScoreBatchResponse","description":"Response from batch scoring operations on datasets."}}}},"400":{"description":"The request was invalid or malformed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":400,"title":"Bad Request","detail":"The request was invalid or malformed"}}}},"429":{"description":"The client has sent too many requests in a given amount of time","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":429,"title":"Too Many Requests","detail":"You have exceeded the rate limit. Please try again later."}}}},"500":{"description":"The server encountered an unexpected error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":500,"title":"Internal Server Error","detail":"An unexpected error occurred. Our team has been notified."}}}},"default":{"description":"An unexpected error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":0,"title":"Error","detail":"An unexpected error occurred"}}}}}}
>

</StatusCodes>
