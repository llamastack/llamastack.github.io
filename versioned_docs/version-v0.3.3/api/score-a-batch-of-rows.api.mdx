---
id: score-a-batch-of-rows
title: "Score a batch of rows."
description: "Score a batch of rows."
sidebar_label: "Score a batch of rows."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/llama-stack-specification
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Score a batch of rows."}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1/scoring/score-batch"}
  context={"endpoint"}
>

</MethodEndpoint>



Score a batch of rows.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[]}
>

</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"dataset_id":{"type":"string","description":"The ID of the dataset to score."},"scoring_functions":{"type":"object","additionalProperties":{"oneOf":[{"oneOf":[{"type":"object","properties":{"type":{"const":"llm_as_judge","default":"llm_as_judge","description":"The type of scoring function parameters, always llm_as_judge","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"judge_model":{"type":"string","description":"Identifier of the LLM model to use as a judge for scoring"},"prompt_template":{"type":"string","description":"(Optional) Custom prompt template for the judge model"},"judge_score_regexes":{"type":"array","items":{"type":"string"},"description":"Regexes to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","judge_model","judge_score_regexes","aggregation_functions"],"title":"LLMAsJudgeScoringFnParams","description":"Parameters for LLM-as-judge scoring function configuration."},{"type":"object","properties":{"type":{"const":"regex_parser","default":"regex_parser","description":"The type of scoring function parameters, always regex_parser","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"parsing_regexes":{"type":"array","items":{"type":"string"},"description":"Regex to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","parsing_regexes","aggregation_functions"],"title":"RegexParserScoringFnParams","description":"Parameters for regex parser scoring function configuration."},{"type":"object","properties":{"type":{"const":"basic","default":"basic","description":"The type of scoring function parameters, always basic","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","aggregation_functions"],"title":"BasicScoringFnParams","description":"Parameters for basic scoring function configuration."}],"discriminator":{"propertyName":"type","mapping":{"llm_as_judge":{"type":"object","properties":{"type":{"const":"llm_as_judge","default":"llm_as_judge","description":"The type of scoring function parameters, always llm_as_judge","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"judge_model":{"type":"string","description":"Identifier of the LLM model to use as a judge for scoring"},"prompt_template":{"type":"string","description":"(Optional) Custom prompt template for the judge model"},"judge_score_regexes":{"type":"array","items":{"type":"string"},"description":"Regexes to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","judge_model","judge_score_regexes","aggregation_functions"],"title":"LLMAsJudgeScoringFnParams","description":"Parameters for LLM-as-judge scoring function configuration."},"regex_parser":{"type":"object","properties":{"type":{"const":"regex_parser","default":"regex_parser","description":"The type of scoring function parameters, always regex_parser","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"parsing_regexes":{"type":"array","items":{"type":"string"},"description":"Regex to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","parsing_regexes","aggregation_functions"],"title":"RegexParserScoringFnParams","description":"Parameters for regex parser scoring function configuration."},"basic":{"type":"object","properties":{"type":{"const":"basic","default":"basic","description":"The type of scoring function parameters, always basic","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","aggregation_functions"],"title":"BasicScoringFnParams","description":"Parameters for basic scoring function configuration."}}},"title":"ScoringFnParams"},{"type":"null"}]},"description":"The scoring functions to use for the scoring."},"save_results_dataset":{"type":"boolean","description":"Whether to save the results to a dataset."}},"additionalProperties":false,"required":["dataset_id","scoring_functions","save_results_dataset"],"title":"ScoreBatchRequest"}}},"required":true}}
>

</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A ScoreBatchResponse.","content":{"application/json":{"schema":{"type":"object","properties":{"dataset_id":{"type":"string","description":"(Optional) The identifier of the dataset that was scored"},"results":{"type":"object","additionalProperties":{"type":"object","properties":{"score_rows":{"type":"array","items":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]}},"description":"The scoring result for each row. Each row is a map of column name to value."},"aggregated_results":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]},"description":"Map of metric name to aggregated value"}},"additionalProperties":false,"required":["score_rows","aggregated_results"],"title":"ScoringResult","description":"A scoring result for a single row."},"description":"A map of scoring function name to ScoringResult"}},"additionalProperties":false,"required":["results"],"title":"ScoreBatchResponse","description":"Response from batch scoring operations on datasets."}}}},"400":{"description":"The request was invalid or malformed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":400,"title":"Bad Request","detail":"The request was invalid or malformed"}}}},"429":{"description":"The client has sent too many requests in a given amount of time","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":429,"title":"Too Many Requests","detail":"You have exceeded the rate limit. Please try again later."}}}},"500":{"description":"The server encountered an unexpected error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":500,"title":"Internal Server Error","detail":"An unexpected error occurred. Our team has been notified."}}}},"default":{"description":"An unexpected error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":0,"title":"Error","detail":"An unexpected error occurred"}}}}}}
>

</StatusCodes>
