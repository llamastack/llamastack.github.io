---
id: register-a-scoring-function
title: "Register a scoring function."
description: "Register a scoring function."
sidebar_label: "Register a scoring function."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/llama-stack-specification
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Register a scoring function."}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1/scoring-functions"}
  context={"endpoint"}
>

</MethodEndpoint>



Register a scoring function.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[]}
>

</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"scoring_fn_id":{"type":"string","description":"The ID of the scoring function to register."},"description":{"type":"string","description":"The description of the scoring function."},"return_type":{"description":"The return type of the scoring function.","oneOf":[{"type":"object","properties":{"type":{"type":"string","const":"string","default":"string","description":"Discriminator type. Always \"string\""}},"additionalProperties":false,"required":["type"],"title":"StringType","description":"Parameter type for string values."},{"type":"object","properties":{"type":{"type":"string","const":"number","default":"number","description":"Discriminator type. Always \"number\""}},"additionalProperties":false,"required":["type"],"title":"NumberType","description":"Parameter type for numeric values."},{"type":"object","properties":{"type":{"type":"string","const":"boolean","default":"boolean","description":"Discriminator type. Always \"boolean\""}},"additionalProperties":false,"required":["type"],"title":"BooleanType","description":"Parameter type for boolean values."},{"type":"object","properties":{"type":{"type":"string","const":"array","default":"array","description":"Discriminator type. Always \"array\""}},"additionalProperties":false,"required":["type"],"title":"ArrayType","description":"Parameter type for array values."},{"type":"object","properties":{"type":{"type":"string","const":"object","default":"object","description":"Discriminator type. Always \"object\""}},"additionalProperties":false,"required":["type"],"title":"ObjectType","description":"Parameter type for object values."},{"type":"object","properties":{"type":{"type":"string","const":"json","default":"json","description":"Discriminator type. Always \"json\""}},"additionalProperties":false,"required":["type"],"title":"JsonType","description":"Parameter type for JSON values."},{"type":"object","properties":{"type":{"type":"string","const":"union","default":"union","description":"Discriminator type. Always \"union\""}},"additionalProperties":false,"required":["type"],"title":"UnionType","description":"Parameter type for union values."},{"type":"object","properties":{"type":{"type":"string","const":"chat_completion_input","default":"chat_completion_input","description":"Discriminator type. Always \"chat_completion_input\""}},"additionalProperties":false,"required":["type"],"title":"ChatCompletionInputType","description":"Parameter type for chat completion input."},{"type":"object","properties":{"type":{"type":"string","const":"completion_input","default":"completion_input","description":"Discriminator type. Always \"completion_input\""}},"additionalProperties":false,"required":["type"],"title":"CompletionInputType","description":"Parameter type for completion input."},{"type":"object","properties":{"type":{"type":"string","const":"agent_turn_input","default":"agent_turn_input","description":"Discriminator type. Always \"agent_turn_input\""}},"additionalProperties":false,"required":["type"],"title":"AgentTurnInputType","description":"Parameter type for agent turn input."}],"discriminator":{"propertyName":"type","mapping":{"string":{"type":"object","properties":{"type":{"type":"string","const":"string","default":"string","description":"Discriminator type. Always \"string\""}},"additionalProperties":false,"required":["type"],"title":"StringType","description":"Parameter type for string values."},"number":{"type":"object","properties":{"type":{"type":"string","const":"number","default":"number","description":"Discriminator type. Always \"number\""}},"additionalProperties":false,"required":["type"],"title":"NumberType","description":"Parameter type for numeric values."},"boolean":{"type":"object","properties":{"type":{"type":"string","const":"boolean","default":"boolean","description":"Discriminator type. Always \"boolean\""}},"additionalProperties":false,"required":["type"],"title":"BooleanType","description":"Parameter type for boolean values."},"array":{"type":"object","properties":{"type":{"type":"string","const":"array","default":"array","description":"Discriminator type. Always \"array\""}},"additionalProperties":false,"required":["type"],"title":"ArrayType","description":"Parameter type for array values."},"object":{"type":"object","properties":{"type":{"type":"string","const":"object","default":"object","description":"Discriminator type. Always \"object\""}},"additionalProperties":false,"required":["type"],"title":"ObjectType","description":"Parameter type for object values."},"json":{"type":"object","properties":{"type":{"type":"string","const":"json","default":"json","description":"Discriminator type. Always \"json\""}},"additionalProperties":false,"required":["type"],"title":"JsonType","description":"Parameter type for JSON values."},"union":{"type":"object","properties":{"type":{"type":"string","const":"union","default":"union","description":"Discriminator type. Always \"union\""}},"additionalProperties":false,"required":["type"],"title":"UnionType","description":"Parameter type for union values."},"chat_completion_input":{"type":"object","properties":{"type":{"type":"string","const":"chat_completion_input","default":"chat_completion_input","description":"Discriminator type. Always \"chat_completion_input\""}},"additionalProperties":false,"required":["type"],"title":"ChatCompletionInputType","description":"Parameter type for chat completion input."},"completion_input":{"type":"object","properties":{"type":{"type":"string","const":"completion_input","default":"completion_input","description":"Discriminator type. Always \"completion_input\""}},"additionalProperties":false,"required":["type"],"title":"CompletionInputType","description":"Parameter type for completion input."},"agent_turn_input":{"type":"object","properties":{"type":{"type":"string","const":"agent_turn_input","default":"agent_turn_input","description":"Discriminator type. Always \"agent_turn_input\""}},"additionalProperties":false,"required":["type"],"title":"AgentTurnInputType","description":"Parameter type for agent turn input."}}},"title":"ParamType"},"provider_scoring_fn_id":{"type":"string","description":"The ID of the provider scoring function to use for the scoring function."},"provider_id":{"type":"string","description":"The ID of the provider to use for the scoring function."},"params":{"oneOf":[{"type":"object","properties":{"type":{"const":"llm_as_judge","default":"llm_as_judge","description":"The type of scoring function parameters, always llm_as_judge","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"judge_model":{"type":"string","description":"Identifier of the LLM model to use as a judge for scoring"},"prompt_template":{"type":"string","description":"(Optional) Custom prompt template for the judge model"},"judge_score_regexes":{"type":"array","items":{"type":"string"},"description":"Regexes to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","judge_model","judge_score_regexes","aggregation_functions"],"title":"LLMAsJudgeScoringFnParams","description":"Parameters for LLM-as-judge scoring function configuration."},{"type":"object","properties":{"type":{"const":"regex_parser","default":"regex_parser","description":"The type of scoring function parameters, always regex_parser","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"parsing_regexes":{"type":"array","items":{"type":"string"},"description":"Regex to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","parsing_regexes","aggregation_functions"],"title":"RegexParserScoringFnParams","description":"Parameters for regex parser scoring function configuration."},{"type":"object","properties":{"type":{"const":"basic","default":"basic","description":"The type of scoring function parameters, always basic","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","aggregation_functions"],"title":"BasicScoringFnParams","description":"Parameters for basic scoring function configuration."}],"discriminator":{"propertyName":"type","mapping":{"llm_as_judge":{"type":"object","properties":{"type":{"const":"llm_as_judge","default":"llm_as_judge","description":"The type of scoring function parameters, always llm_as_judge","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"judge_model":{"type":"string","description":"Identifier of the LLM model to use as a judge for scoring"},"prompt_template":{"type":"string","description":"(Optional) Custom prompt template for the judge model"},"judge_score_regexes":{"type":"array","items":{"type":"string"},"description":"Regexes to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","judge_model","judge_score_regexes","aggregation_functions"],"title":"LLMAsJudgeScoringFnParams","description":"Parameters for LLM-as-judge scoring function configuration."},"regex_parser":{"type":"object","properties":{"type":{"const":"regex_parser","default":"regex_parser","description":"The type of scoring function parameters, always regex_parser","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"parsing_regexes":{"type":"array","items":{"type":"string"},"description":"Regex to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","parsing_regexes","aggregation_functions"],"title":"RegexParserScoringFnParams","description":"Parameters for regex parser scoring function configuration."},"basic":{"type":"object","properties":{"type":{"const":"basic","default":"basic","description":"The type of scoring function parameters, always basic","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","aggregation_functions"],"title":"BasicScoringFnParams","description":"Parameters for basic scoring function configuration."}}},"title":"ScoringFnParams","description":"The parameters for the scoring function for benchmark eval, these can be overridden for app eval."}},"additionalProperties":false,"required":["scoring_fn_id","description","return_type"],"title":"RegisterScoringFunctionRequest"}}},"required":true}}
>

</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"OK"},"400":{"description":"The request was invalid or malformed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":400,"title":"Bad Request","detail":"The request was invalid or malformed"}}}},"429":{"description":"The client has sent too many requests in a given amount of time","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":429,"title":"Too Many Requests","detail":"You have exceeded the rate limit. Please try again later."}}}},"500":{"description":"The server encountered an unexpected error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":500,"title":"Internal Server Error","detail":"An unexpected error occurred. Our team has been notified."}}}},"default":{"description":"An unexpected error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":0,"title":"Error","detail":"An unexpected error occurred"}}}}}}
>

</StatusCodes>
