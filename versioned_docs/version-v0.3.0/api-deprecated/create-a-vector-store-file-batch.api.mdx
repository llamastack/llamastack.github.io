---
id: create-a-vector-store-file-batch
title: "Create a vector store file batch."
description: "Create a vector store file batch."
sidebar_label: "Create a vector store file batch."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api-deprecated/llama-stack-specification-deprecated-apis
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create a vector store file batch."}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1/openai/v1/vector_stores/{vector_store_id}/file_batches"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::caution deprecated

This endpoint has been deprecated and may be replaced or removed in future versions of the API.

:::

Create a vector store file batch.
Generate an OpenAI-compatible vector store file batch for the given vector store.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"vector_store_id","in":"path","description":"The ID of the vector store to create the file batch for.","required":true,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"file_ids":{"type":"array","items":{"type":"string"},"description":"A list of File IDs that the vector store should use"},"attributes":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]},"description":"(Optional) Key-value attributes to store with the files"},"chunking_strategy":{"description":"(Optional) The chunking strategy used to chunk the file(s). Defaults to auto","oneOf":[{"type":"object","properties":{"type":{"type":"string","const":"auto","default":"auto","description":"Strategy type, always \"auto\" for automatic chunking"}},"additionalProperties":false,"required":["type"],"title":"VectorStoreChunkingStrategyAuto","description":"Automatic chunking strategy for vector store files."},{"type":"object","properties":{"type":{"type":"string","const":"static","default":"static","description":"Strategy type, always \"static\" for static chunking"},"static":{"description":"Configuration parameters for the static chunking strategy","type":"object","properties":{"chunk_overlap_tokens":{"type":"integer","default":400,"description":"Number of tokens to overlap between adjacent chunks"},"max_chunk_size_tokens":{"type":"integer","default":800,"description":"Maximum number of tokens per chunk, must be between 100 and 4096"}},"additionalProperties":false,"required":["chunk_overlap_tokens","max_chunk_size_tokens"],"title":"VectorStoreChunkingStrategyStaticConfig"}},"additionalProperties":false,"required":["type","static"],"title":"VectorStoreChunkingStrategyStatic","description":"Static chunking strategy with configurable parameters."}],"discriminator":{"propertyName":"type","mapping":{"auto":{"type":"object","properties":{"type":{"type":"string","const":"auto","default":"auto","description":"Strategy type, always \"auto\" for automatic chunking"}},"additionalProperties":false,"required":["type"],"title":"VectorStoreChunkingStrategyAuto","description":"Automatic chunking strategy for vector store files."},"static":{"type":"object","properties":{"type":{"type":"string","const":"static","default":"static","description":"Strategy type, always \"static\" for static chunking"},"static":{"description":"Configuration parameters for the static chunking strategy","type":"object","properties":{"chunk_overlap_tokens":{"type":"integer","default":400,"description":"Number of tokens to overlap between adjacent chunks"},"max_chunk_size_tokens":{"type":"integer","default":800,"description":"Maximum number of tokens per chunk, must be between 100 and 4096"}},"additionalProperties":false,"required":["chunk_overlap_tokens","max_chunk_size_tokens"],"title":"VectorStoreChunkingStrategyStaticConfig"}},"additionalProperties":false,"required":["type","static"],"title":"VectorStoreChunkingStrategyStatic","description":"Static chunking strategy with configurable parameters."}}},"title":"VectorStoreChunkingStrategy"}},"additionalProperties":false,"required":["file_ids"],"title":"OpenAICreateVectorStoreFileBatchRequestWithExtraBody","description":"Request to create a vector store file batch with extra_body support."}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A VectorStoreFileBatchObject representing the created file batch.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the file batch"},"object":{"type":"string","default":"vector_store.file_batch","description":"Object type identifier, always \"vector_store.file_batch\""},"created_at":{"type":"integer","description":"Timestamp when the file batch was created"},"vector_store_id":{"type":"string","description":"ID of the vector store containing the file batch"},"status":{"description":"Current processing status of the file batch","oneOf":[{"type":"string","const":"completed"},{"type":"string","const":"in_progress"},{"type":"string","const":"cancelled"},{"type":"string","const":"failed"}],"title":"VectorStoreFileStatus"},"file_counts":{"description":"File processing status counts for the batch","type":"object","properties":{"completed":{"type":"integer","description":"Number of files that have been successfully processed"},"cancelled":{"type":"integer","description":"Number of files that had their processing cancelled"},"failed":{"type":"integer","description":"Number of files that failed to process"},"in_progress":{"type":"integer","description":"Number of files currently being processed"},"total":{"type":"integer","description":"Total number of files in the vector store"}},"additionalProperties":false,"required":["completed","cancelled","failed","in_progress","total"],"title":"VectorStoreFileCounts"}},"additionalProperties":false,"required":["id","object","created_at","vector_store_id","status","file_counts"],"title":"VectorStoreFileBatchObject","description":"OpenAI Vector Store File Batch object."}}}},"400":{"description":"The request was invalid or malformed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":400,"title":"Bad Request","detail":"The request was invalid or malformed"}}}},"429":{"description":"The client has sent too many requests in a given amount of time","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":429,"title":"Too Many Requests","detail":"You have exceeded the rate limit. Please try again later."}}}},"500":{"description":"The server encountered an unexpected error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":500,"title":"Internal Server Error","detail":"An unexpected error occurred. Our team has been notified."}}}},"default":{"description":"An unexpected error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":0,"title":"Error","detail":"An unexpected error occurred"}}}}}}
>
  
</StatusCodes>


      