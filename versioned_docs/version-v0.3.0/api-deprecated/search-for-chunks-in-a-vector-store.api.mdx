---
id: search-for-chunks-in-a-vector-store
title: "Search for chunks in a vector store."
description: "Search for chunks in a vector store."
sidebar_label: "Search for chunks in a vector store."
hide_title: true
hide_table_of_contents: true
api: eJztWc1u48gRfpVCn8YDWZYHO9hd3bxjLzLITGzYngSBZRglsiT2TrOb092ULBh6htxzymPkefICeYWgupsSJdG2nOwhA9gXi1Kz/r+q4scHYclVRjtyYvgg3g0G/C8nl1lZeWm0GIoT+DNl3tgrbyxdEdqsuEw3QWa0R6mlnoIvCFz4FSy5WnnXFz3BB0h7lopVpWSGLPXoN8eiH4TLCiqRP/lFRWIozPg3yrzoicqaiqyX0bD09fqc81bqqeiJnCZYKy+GYhasvHNsZj9actdYUuGUwuG2Y+dBKLBEkDlpLyeSLEyM7XAGgohlTyTJ32qyi26D2jquCwJj5VRqVI3EcCv4Aj3M0QHdU1Z7yll4jr4dDbQWF6InpKfSPR+liVR0J/Pnrfqi5bd6w2kzCT6zhO2kxgCwdfyrxpKeV/AnLGk/mS4zti1Q1+WY7I7AS1I0Q50RhBtSkqTbzBILRO+tHNeeOgOGeS5ZJKqLzQLTdD4Rw5ttx5a9bcta34yNUYRaLG+X2/a+Oa+imgP4Iy0OZ6hqgrVpgM6ZTKKnHObSF6tAsQctzPx3dRB/3c1RZrRjpHi69zsR/hC1Bjj0IKutJe3VAoxWCxiFe0YCOOJ1VRmbCjaI2gsFmPkaFfAN0Hi4XD6WkQkqRz1h6VstLeVieBNVJI23PeGlV6yy1ZySC4+6xuGDiTUlIMRuAaFbxBLlq3Yx9cVOVj9J57mss5ZAByX6rNhqgbE9vMi/Br0tnDXwWNdEt+ObXbkDPKldB9+jhWzvZhSe8HcjLhCrzvHxAt1duQngBhSt1pyc3ZT9l4J8QaHVWgK0BCxo1W5xhlLhWBGMaWF0HtHeNGFN9/4uXDxbey0kXpuvpEPrsOStpFmTNBYXZLOzyYKXJW+FxI3xkBp6K0775O+ia1hdIM8Q7hd232wu2YMfukb6dWjB32pycQRJPUMlc4ZAiWpibEn57ze8nUdft9uW1J6mHU3+D9fXFxBPQ2bykOkUreeyfGYtTwQ+3AMEVxjrwdVliXbRDCIKZ+aFzAruY+y0lah9qAjU6fegJyDBo1T7ao6nWbUyekoWirpEfWgJ81DErXs2zGFNUjvPo+1FtXwCXy4/JWcy1DAmqB3l4E1T3AlQUnM+Q+YAx6b2sU1VlMmJzMBksdVntGXXS6o/ZbjJ1ip4rWoPYXokeJsVzTacXHzsw6Wpp4VawMQoZeYOLn/9AD/+NPgxNCq6x7KKldHU1w+DwVrfL5jDZSzxtT17Vn5Czrufu5GTKcnNv0DePnhiGgMl6kUjmKUCwlTOSAOWptahiXpZ0iuoXkH1nYHq3c9rfdfGwGeu9IQs14bWX00NBc4I6D4jyjlsDDb0BEqW0vfhQhE6Am8XgFOUGhR6ss2kev/YpHJkZ2SBdMZQIks5F1at6b6ijCcipTC8QusVWt8RtN6359VHrmwmCa5ita/1J3id7JZ8E4y8D+e1BU9Yhqk0JtKgTXi0zxt4rbbxHX7nCcGvoHoF1fcFqkGXtj0gFFDCpYZTx97Ep7OP52z+prnxYS3US1bU+mta9zYevkY6nmKmZ4tqCK4GMss394+Rk8apSdwg6hxMynIkJ1bUEV96soFcrdBiSXwVmKtIzW3woJFPkGx2hb7oJGY+njZJ3zDUm/RsyZrWefa2pt4u6hu6bHkbD5Pzv5g8EKS/UwNZEa57UHWP8WVtK3cDEWMfz/ADQZASElaRZfxscjz9RInG+P8PVKOuleqkFZ/iHh9zuvVFsqSDnfw1Wr0uvM0ac5x8jdaaeSetv+yJEu/vdF02BPseff0z3suyLiG60iJaUreqrYY3x3zxfgBSZ6p2ckY9SHMLjgcHQbNF/VXq6V3Exx5sKN9A9kV9tU1fJ32Aamqs9EXJJtaOVuT1nS8sucKoNvHeorHT2B08oe+z1CE2dovlXklObWNPYmqL/UsOpIAFUROp6dDXj7644TjT3EpPOy862vxeJ5/H2Qy3RmoNfW1RgUI9rZlhiyhjI5p2E3W/aRIdnDhovWopeQvYi2NOoviGlCU4hJH4Sou5sflI9GCU2iN/NhZGoliMrcxHYq1/feTgZQMwRqo17s4r0ijjJGixfQ0tEebNZmcNSK0sZcz0Nc22JF+YnFu4CWRG6ORDcTQ7PjJBA39qd3139LA1BJZHMTSBoOT9Mk6M2vJYLLyvhkdHqBeHhXGe8kOlsMRD5zH72s9MKbhfOspqK/0i3HjaVPXNLf/Gvfxy3fXP1mM5Vc86aeuG2dVFBp34bhC8lrIDvMFuxaZJ1a6hddcUvBGFokq5+sQuwxW7DFdpL4r70iGcrlLCOwmvOBzBWHaz445K5MXSbaxY2F762rrCa8DKmpnMyY00bP0hOArsEem8MlIzMx7IcJIWMmPj1pQzjrnx2glm3L5ZKFoa8Us3ZWxYCXeFj5kFUzQjy8CMVn02OSnXH+mRfvv2X3//x7//+Tc4Pbu4PPtwcn12+vbtED7RFLNFiERUVOKCN09LpZlRztvQpPa15X0iRMn14YuLm08ppzaGwtKE0sap1SJ0HC7vEsNSkFaZfVat7fC3Fo7/o1Ut9S5+eXVUKZQ83SP8HhKeb2IpRURziR2HOmuhWvTEcHe5S8C+7QkGL8t5eGArv1i1XPLXCQ43tz0RnnXGXO83DyKXjj/n3WOjHcY3l6lJHcC+C2Onv82ionk3C69ExVCIHvfnjr017C0FYc7Qv3lIp9K7vMPr+DawkbKzWfIeFO84yTKq/JNnb1tN9uL86lr0xDhtr6lxWJzzGozzaPFGc5rzv2a+iaGIMvnvP9J1xOo=
sidebar_class_name: "post api-method"
info_path: docs/api-deprecated/llama-stack-specification-deprecated-apis
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Search for chunks in a vector store."}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1/openai/v1/vector_stores/{vector_store_id}/search"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::caution deprecated

This endpoint has been deprecated and may be replaced or removed in future versions of the API.

:::

Search for chunks in a vector store.
Searches a vector store for relevant chunks based on a query and optional file attribute filters.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"vector_store_id","in":"path","description":"The ID of the vector store to search.","required":true,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"query":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}],"description":"The query string or array for performing the search."},"filters":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]},"description":"Filters based on file attributes to narrow the search results."},"max_num_results":{"type":"integer","description":"Maximum number of results to return (1 to 50 inclusive, default 10)."},"ranking_options":{"type":"object","properties":{"ranker":{"type":"string","description":"(Optional) Name of the ranking algorithm to use"},"score_threshold":{"type":"number","default":0,"description":"(Optional) Minimum relevance score threshold for results"}},"additionalProperties":false,"description":"Ranking options for fine-tuning the search results."},"rewrite_query":{"type":"boolean","description":"Whether to rewrite the natural language query for vector search (default false)"},"search_mode":{"type":"string","description":"The search mode to use - \"keyword\", \"vector\", or \"hybrid\" (default \"vector\")"}},"additionalProperties":false,"required":["query"],"title":"OpenaiSearchVectorStoreRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A VectorStoreSearchResponse containing the search results.","content":{"application/json":{"schema":{"type":"object","properties":{"object":{"type":"string","default":"vector_store.search_results.page","description":"Object type identifier for the search results page"},"search_query":{"type":"string","description":"The original search query that was executed"},"data":{"type":"array","items":{"type":"object","properties":{"file_id":{"type":"string","description":"Unique identifier of the file containing the result"},"filename":{"type":"string","description":"Name of the file containing the result"},"score":{"type":"number","description":"Relevance score for this search result"},"attributes":{"type":"object","additionalProperties":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]},"description":"(Optional) Key-value attributes associated with the file"},"content":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","const":"text","description":"Content type, currently only \"text\" is supported"},"text":{"type":"string","description":"The actual text content"}},"additionalProperties":false,"required":["type","text"],"title":"VectorStoreContent","description":"Content item from a vector store file or search result."},"description":"List of content items matching the search query"}},"additionalProperties":false,"required":["file_id","filename","score","content"],"title":"VectorStoreSearchResponse","description":"Response from searching a vector store."},"description":"List of search result objects"},"has_more":{"type":"boolean","default":false,"description":"Whether there are more results available beyond this page"},"next_page":{"type":"string","description":"(Optional) Token for retrieving the next page of results"}},"additionalProperties":false,"required":["object","search_query","data","has_more"],"title":"VectorStoreSearchResponsePage","description":"Paginated response from searching a vector store."}}}},"400":{"description":"The request was invalid or malformed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":400,"title":"Bad Request","detail":"The request was invalid or malformed"}}}},"429":{"description":"The client has sent too many requests in a given amount of time","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":429,"title":"Too Many Requests","detail":"You have exceeded the rate limit. Please try again later."}}}},"500":{"description":"The server encountered an unexpected error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":500,"title":"Internal Server Error","detail":"An unexpected error occurred. Our team has been notified."}}}},"default":{"description":"An unexpected error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":0,"title":"Error","detail":"An unexpected error occurred"}}}}}}
>
  
</StatusCodes>


      