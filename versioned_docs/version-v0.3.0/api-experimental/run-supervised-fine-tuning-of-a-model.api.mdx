---
id: run-supervised-fine-tuning-of-a-model
title: "Run supervised fine-tuning of a model."
description: "Run supervised fine-tuning of a model."
sidebar_label: "Run supervised fine-tuning of a model."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api-experimental/llama-stack-specification-experimental-apis
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Run supervised fine-tuning of a model."}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1alpha/post-training/supervised-fine-tune"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Run supervised fine-tuning of a model.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"job_uuid":{"type":"string","description":"The UUID of the job to create."},"training_config":{"description":"The training configuration.","type":"object","properties":{"n_epochs":{"type":"integer","description":"Number of training epochs to run"},"max_steps_per_epoch":{"type":"integer","default":1,"description":"Maximum number of steps to run per epoch"},"gradient_accumulation_steps":{"type":"integer","default":1,"description":"Number of steps to accumulate gradients before updating"},"max_validation_steps":{"type":"integer","default":1,"description":"(Optional) Maximum number of validation steps per epoch"},"data_config":{"description":"(Optional) Configuration for data loading and formatting","type":"object","properties":{"dataset_id":{"type":"string","description":"Unique identifier for the training dataset"},"batch_size":{"type":"integer","description":"Number of samples per training batch"},"shuffle":{"type":"boolean","description":"Whether to shuffle the dataset during training"},"data_format":{"description":"Format of the dataset (instruct or dialog)","type":"string","enum":["instruct","dialog"],"title":"DatasetFormat"},"validation_dataset_id":{"type":"string","description":"(Optional) Unique identifier for the validation dataset"},"packed":{"type":"boolean","default":false,"description":"(Optional) Whether to pack multiple samples into a single sequence for efficiency"},"train_on_input":{"type":"boolean","default":false,"description":"(Optional) Whether to compute loss on input tokens as well as output tokens"}},"additionalProperties":false,"required":["dataset_id","batch_size","shuffle","data_format"],"title":"DataConfig"},"optimizer_config":{"description":"(Optional) Configuration for the optimization algorithm","type":"object","properties":{"optimizer_type":{"description":"Type of optimizer to use (adam, adamw, or sgd)","type":"string","enum":["adam","adamw","sgd"],"title":"OptimizerType"},"lr":{"type":"number","description":"Learning rate for the optimizer"},"weight_decay":{"type":"number","description":"Weight decay coefficient for regularization"},"num_warmup_steps":{"type":"integer","description":"Number of steps for learning rate warmup"}},"additionalProperties":false,"required":["optimizer_type","lr","weight_decay","num_warmup_steps"],"title":"OptimizerConfig"},"efficiency_config":{"description":"(Optional) Configuration for memory and compute optimizations","type":"object","properties":{"enable_activation_checkpointing":{"type":"boolean","default":false,"description":"(Optional) Whether to use activation checkpointing to reduce memory usage"},"enable_activation_offloading":{"type":"boolean","default":false,"description":"(Optional) Whether to offload activations to CPU to save GPU memory"},"memory_efficient_fsdp_wrap":{"type":"boolean","default":false,"description":"(Optional) Whether to use memory-efficient FSDP wrapping"},"fsdp_cpu_offload":{"type":"boolean","default":false,"description":"(Optional) Whether to offload FSDP parameters to CPU"}},"additionalProperties":false,"title":"EfficiencyConfig"},"dtype":{"type":"string","default":"bf16","description":"(Optional) Data type for model parameters (bf16, fp16, fp32)"}},"additionalProperties":false,"required":["n_epochs","max_steps_per_epoch","gradient_accumulation_steps"],"title":"TrainingConfig"},"hyperparam_search_config":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]},"description":"The hyperparam search configuration."},"logger_config":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]},"description":"The logger configuration."},"model":{"type":"string","description":"The model to fine-tune."},"checkpoint_dir":{"type":"string","description":"The directory to save checkpoint(s) to."},"algorithm_config":{"description":"The algorithm configuration.","oneOf":[{"type":"object","properties":{"type":{"type":"string","const":"LoRA","default":"LoRA","description":"Algorithm type identifier, always \"LoRA\""},"lora_attn_modules":{"type":"array","items":{"type":"string"},"description":"List of attention module names to apply LoRA to"},"apply_lora_to_mlp":{"type":"boolean","description":"Whether to apply LoRA to MLP layers"},"apply_lora_to_output":{"type":"boolean","description":"Whether to apply LoRA to output projection layers"},"rank":{"type":"integer","description":"Rank of the LoRA adaptation (lower rank = fewer parameters)"},"alpha":{"type":"integer","description":"LoRA scaling parameter that controls adaptation strength"},"use_dora":{"type":"boolean","default":false,"description":"(Optional) Whether to use DoRA (Weight-Decomposed Low-Rank Adaptation)"},"quantize_base":{"type":"boolean","default":false,"description":"(Optional) Whether to quantize the base model weights"}},"additionalProperties":false,"required":["type","lora_attn_modules","apply_lora_to_mlp","apply_lora_to_output","rank","alpha"],"title":"LoraFinetuningConfig","description":"Configuration for Low-Rank Adaptation (LoRA) fine-tuning."},{"type":"object","properties":{"type":{"type":"string","const":"QAT","default":"QAT","description":"Algorithm type identifier, always \"QAT\""},"quantizer_name":{"type":"string","description":"Name of the quantization algorithm to use"},"group_size":{"type":"integer","description":"Size of groups for grouped quantization"}},"additionalProperties":false,"required":["type","quantizer_name","group_size"],"title":"QATFinetuningConfig","description":"Configuration for Quantization-Aware Training (QAT) fine-tuning."}],"discriminator":{"propertyName":"type","mapping":{"LoRA":{"type":"object","properties":{"type":{"type":"string","const":"LoRA","default":"LoRA","description":"Algorithm type identifier, always \"LoRA\""},"lora_attn_modules":{"type":"array","items":{"type":"string"},"description":"List of attention module names to apply LoRA to"},"apply_lora_to_mlp":{"type":"boolean","description":"Whether to apply LoRA to MLP layers"},"apply_lora_to_output":{"type":"boolean","description":"Whether to apply LoRA to output projection layers"},"rank":{"type":"integer","description":"Rank of the LoRA adaptation (lower rank = fewer parameters)"},"alpha":{"type":"integer","description":"LoRA scaling parameter that controls adaptation strength"},"use_dora":{"type":"boolean","default":false,"description":"(Optional) Whether to use DoRA (Weight-Decomposed Low-Rank Adaptation)"},"quantize_base":{"type":"boolean","default":false,"description":"(Optional) Whether to quantize the base model weights"}},"additionalProperties":false,"required":["type","lora_attn_modules","apply_lora_to_mlp","apply_lora_to_output","rank","alpha"],"title":"LoraFinetuningConfig","description":"Configuration for Low-Rank Adaptation (LoRA) fine-tuning."},"QAT":{"type":"object","properties":{"type":{"type":"string","const":"QAT","default":"QAT","description":"Algorithm type identifier, always \"QAT\""},"quantizer_name":{"type":"string","description":"Name of the quantization algorithm to use"},"group_size":{"type":"integer","description":"Size of groups for grouped quantization"}},"additionalProperties":false,"required":["type","quantizer_name","group_size"],"title":"QATFinetuningConfig","description":"Configuration for Quantization-Aware Training (QAT) fine-tuning."}}},"title":"AlgorithmConfig"}},"additionalProperties":false,"required":["job_uuid","training_config","hyperparam_search_config","logger_config"],"title":"SupervisedFineTuneRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A PostTrainingJob.","content":{"application/json":{"schema":{"type":"object","properties":{"job_uuid":{"type":"string"}},"additionalProperties":false,"required":["job_uuid"],"title":"PostTrainingJob"}}}},"400":{"description":"The request was invalid or malformed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":400,"title":"Bad Request","detail":"The request was invalid or malformed"}}}},"429":{"description":"The client has sent too many requests in a given amount of time","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":429,"title":"Too Many Requests","detail":"You have exceeded the rate limit. Please try again later."}}}},"500":{"description":"The server encountered an unexpected error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":500,"title":"Internal Server Error","detail":"An unexpected error occurred. Our team has been notified."}}}},"default":{"description":"An unexpected error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":0,"title":"Error","detail":"An unexpected error occurred"}}}}}}
>
  
</StatusCodes>


      