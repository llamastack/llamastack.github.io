---
id: query-chunks-v-1-vector-io-query-post
title: "Query Chunks"
description: "Query chunks from a vector database."
sidebar_label: "Query Chunks"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/llama-stack-specification
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Query Chunks"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1/vector-io/query"}
  context={"endpoint"}
>

</MethodEndpoint>



Query chunks from a vector database.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>

</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"properties":{"vector_store_id":{"type":"string","title":"Vector Store Id"},"query":{"anyOf":[{"type":"string"},{"oneOf":[{"title":"ImageContentItem-Input","properties":{"type":{"type":"string","const":"image","title":"Type","default":"image"},"image":{"properties":{"url":{"anyOf":[{"title":"URL","properties":{"uri":{"type":"string","title":"Uri"}},"type":"object","required":["uri"],"description":"A URL reference to external content."},{"type":"null"}],"title":"URL"},"data":{"anyOf":[{"type":"string"},{"type":"null"}],"contentEncoding":"base64"}},"type":"object","title":"_URLOrData","description":"A URL or a base64 encoded string"}},"type":"object","required":["image"],"description":"A image content item"},{"title":"TextContentItem","properties":{"type":{"type":"string","const":"text","title":"Type","default":"text"},"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"description":"A text content item"}],"discriminator":{"propertyName":"type","mapping":{"image":{"properties":{"type":{"type":"string","const":"image","title":"Type","default":"image"},"image":{"properties":{"url":{"anyOf":[{"title":"URL","properties":{"uri":{"type":"string","title":"Uri"}},"type":"object","required":["uri"],"description":"A URL reference to external content."},{"type":"null"}],"title":"URL"},"data":{"anyOf":[{"type":"string"},{"type":"null"}],"contentEncoding":"base64"}},"type":"object","title":"_URLOrData","description":"A URL or a base64 encoded string"}},"type":"object","required":["image"],"title":"ImageContentItem","description":"A image content item"},"text":{"properties":{"type":{"type":"string","const":"text","title":"Type","default":"text"},"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"title":"TextContentItem","description":"A text content item"}}},"title":"ImageContentItem-Input | TextContentItem"},{"items":{"oneOf":[{"title":"ImageContentItem-Input","properties":{"type":{"type":"string","const":"image","title":"Type","default":"image"},"image":{"properties":{"url":{"anyOf":[{"title":"URL","properties":{"uri":{"type":"string","title":"Uri"}},"type":"object","required":["uri"],"description":"A URL reference to external content."},{"type":"null"}],"title":"URL"},"data":{"anyOf":[{"type":"string"},{"type":"null"}],"contentEncoding":"base64"}},"type":"object","title":"_URLOrData","description":"A URL or a base64 encoded string"}},"type":"object","required":["image"],"description":"A image content item"},{"title":"TextContentItem","properties":{"type":{"type":"string","const":"text","title":"Type","default":"text"},"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"description":"A text content item"}],"discriminator":{"propertyName":"type","mapping":{"image":{"properties":{"type":{"type":"string","const":"image","title":"Type","default":"image"},"image":{"properties":{"url":{"anyOf":[{"title":"URL","properties":{"uri":{"type":"string","title":"Uri"}},"type":"object","required":["uri"],"description":"A URL reference to external content."},{"type":"null"}],"title":"URL"},"data":{"anyOf":[{"type":"string"},{"type":"null"}],"contentEncoding":"base64"}},"type":"object","title":"_URLOrData","description":"A URL or a base64 encoded string"}},"type":"object","required":["image"],"title":"ImageContentItem","description":"A image content item"},"text":{"properties":{"type":{"type":"string","const":"text","title":"Type","default":"text"},"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"title":"TextContentItem","description":"A text content item"}}},"title":"ImageContentItem-Input | TextContentItem"},"type":"array","title":"list[ImageContentItem-Input | TextContentItem]"}],"title":"string | list[ImageContentItem-Input | TextContentItem]"},"params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}]}},"type":"object","required":["vector_store_id","query"],"title":"QueryChunksRequest"}}},"required":true}}
>

</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A QueryChunksResponse.","content":{"application/json":{"schema":{"properties":{"chunks":{"items":{"properties":{"content":{"anyOf":[{"type":"string"},{"oneOf":[{"title":"ImageContentItem-Output","properties":{"type":{"type":"string","const":"image","title":"Type","default":"image"},"image":{"properties":{"url":{"anyOf":[{"title":"URL","properties":{"uri":{"type":"string","title":"Uri"}},"type":"object","required":["uri"],"description":"A URL reference to external content."},{"type":"null"}],"title":"URL"},"data":{"anyOf":[{"type":"string"},{"type":"null"}],"contentEncoding":"base64"}},"type":"object","title":"_URLOrData","description":"A URL or a base64 encoded string"}},"type":"object","required":["image"],"description":"A image content item"},{"title":"TextContentItem","properties":{"type":{"type":"string","const":"text","title":"Type","default":"text"},"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"description":"A text content item"}],"discriminator":{"propertyName":"type","mapping":{"image":{"properties":{"type":{"type":"string","const":"image","title":"Type","default":"image"},"image":{"properties":{"url":{"anyOf":[{"title":"URL","properties":{"uri":{"type":"string","title":"Uri"}},"type":"object","required":["uri"],"description":"A URL reference to external content."},{"type":"null"}],"title":"URL"},"data":{"anyOf":[{"type":"string"},{"type":"null"}],"contentEncoding":"base64"}},"type":"object","title":"_URLOrData","description":"A URL or a base64 encoded string"}},"type":"object","required":["image"],"title":"ImageContentItem","description":"A image content item"},"text":{"properties":{"type":{"type":"string","const":"text","title":"Type","default":"text"},"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"title":"TextContentItem","description":"A text content item"}}},"title":"ImageContentItem-Output | TextContentItem"},{"items":{"oneOf":[{"title":"ImageContentItem-Output","properties":{"type":{"type":"string","const":"image","title":"Type","default":"image"},"image":{"properties":{"url":{"anyOf":[{"title":"URL","properties":{"uri":{"type":"string","title":"Uri"}},"type":"object","required":["uri"],"description":"A URL reference to external content."},{"type":"null"}],"title":"URL"},"data":{"anyOf":[{"type":"string"},{"type":"null"}],"contentEncoding":"base64"}},"type":"object","title":"_URLOrData","description":"A URL or a base64 encoded string"}},"type":"object","required":["image"],"description":"A image content item"},{"title":"TextContentItem","properties":{"type":{"type":"string","const":"text","title":"Type","default":"text"},"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"description":"A text content item"}],"discriminator":{"propertyName":"type","mapping":{"image":{"properties":{"type":{"type":"string","const":"image","title":"Type","default":"image"},"image":{"properties":{"url":{"anyOf":[{"title":"URL","properties":{"uri":{"type":"string","title":"Uri"}},"type":"object","required":["uri"],"description":"A URL reference to external content."},{"type":"null"}],"title":"URL"},"data":{"anyOf":[{"type":"string"},{"type":"null"}],"contentEncoding":"base64"}},"type":"object","title":"_URLOrData","description":"A URL or a base64 encoded string"}},"type":"object","required":["image"],"title":"ImageContentItem","description":"A image content item"},"text":{"properties":{"type":{"type":"string","const":"text","title":"Type","default":"text"},"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"title":"TextContentItem","description":"A text content item"}}},"title":"ImageContentItem-Output | TextContentItem"},"type":"array","title":"list[ImageContentItem-Output | TextContentItem]"}],"title":"string | list[ImageContentItem-Output | TextContentItem]"},"chunk_id":{"type":"string","title":"Chunk Id"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"},"chunk_metadata":{"properties":{"chunk_id":{"anyOf":[{"type":"string"},{"type":"null"}]},"document_id":{"anyOf":[{"type":"string"},{"type":"null"}]},"source":{"anyOf":[{"type":"string"},{"type":"null"}]},"created_timestamp":{"anyOf":[{"type":"integer"},{"type":"null"}]},"updated_timestamp":{"anyOf":[{"type":"integer"},{"type":"null"}]},"chunk_window":{"anyOf":[{"type":"string"},{"type":"null"}]},"chunk_tokenizer":{"anyOf":[{"type":"string"},{"type":"null"}]},"content_token_count":{"anyOf":[{"type":"integer"},{"type":"null"}]},"metadata_token_count":{"anyOf":[{"type":"integer"},{"type":"null"}]}},"type":"object","title":"ChunkMetadata","description":"`ChunkMetadata` is backend metadata for a `Chunk` that is used to store additional information about the chunk that\n    will not be used in the context during inference, but is required for backend functionality. The `ChunkMetadata`\n    is set during chunk creation in `MemoryToolRuntimeImpl().insert()`and is not expected to change after.\n    Use `Chunk.metadata` for metadata that will be used in the context during inference."},"embedding":{"items":{"type":"number"},"type":"array","title":"Embedding"},"embedding_model":{"type":"string","title":"Embedding Model"},"embedding_dimension":{"type":"integer","title":"Embedding Dimension"}},"type":"object","required":["content","chunk_id","chunk_metadata","embedding","embedding_model","embedding_dimension"],"title":"EmbeddedChunk","description":"A chunk of content with its embedding vector for vector database operations.\nInherits all fields from Chunk and adds embedding-related fields."},"type":"array","title":"Chunks"},"scores":{"items":{"type":"number"},"type":"array","title":"Scores"}},"type":"object","required":["chunks","scores"],"title":"QueryChunksResponse","description":"Response from querying chunks in a vector database."}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"description":"Error response from the API. Roughly follows RFC 7807.","properties":{"status":{"title":"Status","type":"integer"},"title":{"title":"Title","type":"string"},"detail":{"title":"Detail","type":"string"},"instance":{"anyOf":[{"type":"string"},{"type":"null"}],"nullable":true}},"required":["status","title","detail"],"title":"Error","type":"object"},"example":{"status":400,"title":"Bad Request","detail":"The request was invalid or malformed"}}}},"429":{"description":"Too Many Requests","content":{"application/json":{"schema":{"description":"Error response from the API. Roughly follows RFC 7807.","properties":{"status":{"title":"Status","type":"integer"},"title":{"title":"Title","type":"string"},"detail":{"title":"Detail","type":"string"},"instance":{"anyOf":[{"type":"string"},{"type":"null"}],"nullable":true}},"required":["status","title","detail"],"title":"Error","type":"object"},"example":{"status":429,"title":"Too Many Requests","detail":"You have exceeded the rate limit. Please try again later."}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"description":"Error response from the API. Roughly follows RFC 7807.","properties":{"status":{"title":"Status","type":"integer"},"title":{"title":"Title","type":"string"},"detail":{"title":"Detail","type":"string"},"instance":{"anyOf":[{"type":"string"},{"type":"null"}],"nullable":true}},"required":["status","title","detail"],"title":"Error","type":"object"},"example":{"status":500,"title":"Internal Server Error","detail":"An unexpected error occurred"}}}},"default":{"description":"Default Response","content":{"application/json":{"schema":{"description":"Error response from the API. Roughly follows RFC 7807.","properties":{"status":{"title":"Status","type":"integer"},"title":{"title":"Title","type":"string"},"detail":{"title":"Detail","type":"string"},"instance":{"anyOf":[{"type":"string"},{"type":"null"}],"nullable":true}},"required":["status","title","detail"],"title":"Error","type":"object"}}}}}}
>

</StatusCodes>
