---
id: create-a-vector-store-file-batch
title: "Create a vector store file batch."
description: "Create a vector store file batch."
sidebar_label: "Create a vector store file batch."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/llama-stack-specification
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create a vector store file batch."}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1/vector_stores/{vector_store_id}/file_batches"}
  context={"endpoint"}
>

</MethodEndpoint>



Create a vector store file batch.
Generate an OpenAI-compatible vector store file batch for the given vector store.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"vector_store_id","in":"path","description":"The ID of the vector store to create the file batch for.","required":true,"schema":{"type":"string"}}]}
>

</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"file_ids":{"type":"array","items":{"type":"string"},"description":"A list of File IDs that the vector store should use"},"attributes":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]},"description":"(Optional) Key-value attributes to store with the files"},"chunking_strategy":{"description":"(Optional) The chunking strategy used to chunk the file(s). Defaults to auto","oneOf":[{"type":"object","properties":{"type":{"type":"string","const":"auto","default":"auto","description":"Strategy type, always \"auto\" for automatic chunking"}},"additionalProperties":false,"required":["type"],"title":"VectorStoreChunkingStrategyAuto","description":"Automatic chunking strategy for vector store files."},{"type":"object","properties":{"type":{"type":"string","const":"static","default":"static","description":"Strategy type, always \"static\" for static chunking"},"static":{"description":"Configuration parameters for the static chunking strategy","type":"object","properties":{"chunk_overlap_tokens":{"type":"integer","default":400,"description":"Number of tokens to overlap between adjacent chunks"},"max_chunk_size_tokens":{"type":"integer","default":800,"description":"Maximum number of tokens per chunk, must be between 100 and 4096"}},"additionalProperties":false,"required":["chunk_overlap_tokens","max_chunk_size_tokens"],"title":"VectorStoreChunkingStrategyStaticConfig"}},"additionalProperties":false,"required":["type","static"],"title":"VectorStoreChunkingStrategyStatic","description":"Static chunking strategy with configurable parameters."}],"discriminator":{"propertyName":"type","mapping":{"auto":{"type":"object","properties":{"type":{"type":"string","const":"auto","default":"auto","description":"Strategy type, always \"auto\" for automatic chunking"}},"additionalProperties":false,"required":["type"],"title":"VectorStoreChunkingStrategyAuto","description":"Automatic chunking strategy for vector store files."},"static":{"type":"object","properties":{"type":{"type":"string","const":"static","default":"static","description":"Strategy type, always \"static\" for static chunking"},"static":{"description":"Configuration parameters for the static chunking strategy","type":"object","properties":{"chunk_overlap_tokens":{"type":"integer","default":400,"description":"Number of tokens to overlap between adjacent chunks"},"max_chunk_size_tokens":{"type":"integer","default":800,"description":"Maximum number of tokens per chunk, must be between 100 and 4096"}},"additionalProperties":false,"required":["chunk_overlap_tokens","max_chunk_size_tokens"],"title":"VectorStoreChunkingStrategyStaticConfig"}},"additionalProperties":false,"required":["type","static"],"title":"VectorStoreChunkingStrategyStatic","description":"Static chunking strategy with configurable parameters."}}},"title":"VectorStoreChunkingStrategy"}},"additionalProperties":false,"required":["file_ids"],"title":"OpenAICreateVectorStoreFileBatchRequestWithExtraBody","description":"Request to create a vector store file batch with extra_body support."}}},"required":true}}
>

</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A VectorStoreFileBatchObject representing the created file batch.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the file batch"},"object":{"type":"string","default":"vector_store.file_batch","description":"Object type identifier, always \"vector_store.file_batch\""},"created_at":{"type":"integer","description":"Timestamp when the file batch was created"},"vector_store_id":{"type":"string","description":"ID of the vector store containing the file batch"},"status":{"description":"Current processing status of the file batch","oneOf":[{"type":"string","const":"completed"},{"type":"string","const":"in_progress"},{"type":"string","const":"cancelled"},{"type":"string","const":"failed"}],"title":"VectorStoreFileStatus"},"file_counts":{"description":"File processing status counts for the batch","type":"object","properties":{"completed":{"type":"integer","description":"Number of files that have been successfully processed"},"cancelled":{"type":"integer","description":"Number of files that had their processing cancelled"},"failed":{"type":"integer","description":"Number of files that failed to process"},"in_progress":{"type":"integer","description":"Number of files currently being processed"},"total":{"type":"integer","description":"Total number of files in the vector store"}},"additionalProperties":false,"required":["completed","cancelled","failed","in_progress","total"],"title":"VectorStoreFileCounts"}},"additionalProperties":false,"required":["id","object","created_at","vector_store_id","status","file_counts"],"title":"VectorStoreFileBatchObject","description":"OpenAI Vector Store File Batch object."}}}},"400":{"description":"The request was invalid or malformed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":400,"title":"Bad Request","detail":"The request was invalid or malformed"}}}},"429":{"description":"The client has sent too many requests in a given amount of time","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":429,"title":"Too Many Requests","detail":"You have exceeded the rate limit. Please try again later."}}}},"500":{"description":"The server encountered an unexpected error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":500,"title":"Internal Server Error","detail":"An unexpected error occurred. Our team has been notified."}}}},"default":{"description":"An unexpected error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":0,"title":"Error","detail":"An unexpected error occurred"}}}}}}
>

</StatusCodes>
