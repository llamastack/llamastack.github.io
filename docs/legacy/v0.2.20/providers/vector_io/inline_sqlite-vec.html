


<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>inline::sqlite-vec &mdash; llama-stack 0.2.20 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/my_theme.css?v=f1163765" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../_static/dark_mode_css/general.css?v=c0a7eb24" />
      <link rel="stylesheet" type="text/css" href="../../_static/dark_mode_css/dark.css?v=70edf1c7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=20e0ead2"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=09bf800d"></script>
      <script src="../../_static/js/detect_theme.js?v=76226c80"></script>
      <script src="../../_static/js/keyboard_shortcuts.js?v=62563c3b"></script>
      <script src="../../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../../_static/dark_mode_js/default_light.js?v=c2e647ce"></script>
      <script src="../../_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="../../_static/js/theme.js"></script>
    <script src="../../_static/js/versions.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="inline::sqlite_vec" href="inline_sqlite_vec.html" />
    <link rel="prev" title="inline::qdrant" href="inline_qdrant.html" />
 

<script src="../../_static/version-loader.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../../index.html" class="icon icon-home">
            llama-stack
          </a>
              <div class="switch-menus">
                <div class="version-switch"></div>
                <div class="language-switch"></div>
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Llama Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/index.html">Core Concepts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Providers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../external/index.html">External Providers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../openai.html">OpenAI API Compatibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../inference/index.html">Inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../agents/index.html">Agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datasetio/index.html">Datasetio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../safety/index.html">Safety</a></li>
<li class="toctree-l2"><a class="reference internal" href="../telemetry/index.html">Telemetry</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Vector_Io</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#overview">Overview</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#providers">Providers</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="inline_chromadb.html">inline::chromadb</a></li>
<li class="toctree-l4"><a class="reference internal" href="inline_faiss.html">inline::faiss</a></li>
<li class="toctree-l4"><a class="reference internal" href="inline_meta-reference.html">inline::meta-reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="inline_milvus.html">inline::milvus</a></li>
<li class="toctree-l4"><a class="reference internal" href="inline_qdrant.html">inline::qdrant</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">inline::sqlite-vec</a></li>
<li class="toctree-l4"><a class="reference internal" href="inline_sqlite_vec.html">inline::sqlite_vec</a></li>
<li class="toctree-l4"><a class="reference internal" href="remote_chromadb.html">remote::chromadb</a></li>
<li class="toctree-l4"><a class="reference internal" href="remote_milvus.html">remote::milvus</a></li>
<li class="toctree-l4"><a class="reference internal" href="remote_pgvector.html">remote::pgvector</a></li>
<li class="toctree-l4"><a class="reference internal" href="remote_qdrant.html">remote::qdrant</a></li>
<li class="toctree-l4"><a class="reference internal" href="remote_weaviate.html">remote::weaviate</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tool_runtime/index.html">Tool_Runtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="../files/index.html">Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../distributions/index.html">Distributions Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced_apis/index.html">Advanced APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../building_applications/index.html">AI Application Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploying/index.html">Deployment Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing to Llama Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html#llama-stack-benchmark-suite-on-kubernetes">Llama Stack Benchmark Suite on Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/index.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">llama-stack</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">API Providers</a></li>
          <li class="breadcrumb-item"><a href="index.html">Vector_Io</a></li>
      <li class="breadcrumb-item active">inline::sqlite-vec</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/providers/vector_io/inline_sqlite-vec.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="inline-sqlite-vec">
<h1>inline::sqlite-vec<a class="headerlink" href="#inline-sqlite-vec" title="Link to this heading"></a></h1>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading"></a></h2>
<p><a class="reference external" href="https://github.com/asg017/sqlite-vec">SQLite-Vec</a> is an inline vector database provider for Llama Stack. It
allows you to store and query vectors directly within an SQLite database.
That means you’re not limited to storing vectors in memory or in a separate service.</p>
</section>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Lightweight and easy to use</p></li>
<li><p>Fully integrated with Llama Stacks</p></li>
<li><p>Uses disk-based storage for persistence, allowing for larger vector storage</p></li>
</ul>
<section id="comparison-to-faiss">
<h3>Comparison to Faiss<a class="headerlink" href="#comparison-to-faiss" title="Link to this heading"></a></h3>
<p>The choice between Faiss and sqlite-vec should be made based on the needs of your application,
as they have different strengths.</p>
<section id="choosing-the-right-provider">
<h4>Choosing the Right Provider<a class="headerlink" href="#choosing-the-right-provider" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Scenario</p></th>
<th class="head"><p>Recommended Tool</p></th>
<th class="head"><p>Reason</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Online Analytical Processing (OLAP)</p></td>
<td><p>Faiss</p></td>
<td><p>Fast, in-memory searches</p></td>
</tr>
<tr class="row-odd"><td><p>Online Transaction Processing (OLTP)</p></td>
<td><p>sqlite-vec</p></td>
<td><p>Frequent writes and reads</p></td>
</tr>
<tr class="row-even"><td><p>Frequent writes</p></td>
<td><p>sqlite-vec</p></td>
<td><p>Efficient disk-based storage and incremental indexing</p></td>
</tr>
<tr class="row-odd"><td><p>Large datasets</p></td>
<td><p>sqlite-vec</p></td>
<td><p>Disk-based storage for larger vector storage</p></td>
</tr>
<tr class="row-even"><td><p>Datasets that can fit in memory, frequent reads</p></td>
<td><p>Faiss</p></td>
<td><p>Optimized for speed, indexing, and GPU acceleration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="empirical-example">
<h4>Empirical Example<a class="headerlink" href="#empirical-example" title="Link to this heading"></a></h4>
<p>Consider the histogram below in which 10,000 randomly generated strings were inserted
in batches of 100 into both Faiss and sqlite-vec using <code class="docutils literal notranslate"><span class="pre">client.tool_runtime.rag_tool.insert()</span></code>.</p>
<a class="reference internal image-reference" href="../../_static/providers/vector_io/write_time_comparison_sqlite-vec-faiss.png"><img alt="Comparison of SQLite-Vec and Faiss write times" src="../../_static/providers/vector_io/write_time_comparison_sqlite-vec-faiss.png" style="width: 400px;" />
</a>
<p>You will notice that the average write time for <code class="docutils literal notranslate"><span class="pre">sqlite-vec</span></code> was 788ms, compared to
47,640ms for Faiss. While the number is jarring, if you look at the distribution, you can see that it is rather
uniformly spread across the [1500, 100000] interval.</p>
<p>Looking at each individual write in the order that the documents are inserted you’ll see the increase in
write speed as Faiss reindexes the vectors after each write.</p>
<a class="reference internal image-reference" href="../../_static/providers/vector_io/write_time_sequence_sqlite-vec-faiss.png"><img alt="Comparison of SQLite-Vec and Faiss write times" src="../../_static/providers/vector_io/write_time_sequence_sqlite-vec-faiss.png" style="width: 400px;" />
</a>
<p>In comparison, the read times for Faiss was on average 10% faster than sqlite-vec.
The modes of the two distributions highlight the differences much further where Faiss
will likely yield faster read performance.</p>
<a class="reference internal image-reference" href="../../_static/providers/vector_io/read_time_comparison_sqlite-vec-faiss.png"><img alt="Comparison of SQLite-Vec and Faiss read times" src="../../_static/providers/vector_io/read_time_comparison_sqlite-vec-faiss.png" style="width: 400px;" />
</a>
</section>
</section>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h2>
<p>To use sqlite-vec in your Llama Stack project, follow these steps:</p>
<ol class="arabic simple">
<li><p>Install the necessary dependencies.</p></li>
<li><p>Configure your Llama Stack project to use SQLite-Vec.</p></li>
<li><p>Start storing and querying vectors.</p></li>
</ol>
<p>The SQLite-vec provider supports three search modes:</p>
<ol class="arabic simple">
<li><p><strong>Vector Search</strong> (<code class="docutils literal notranslate"><span class="pre">mode=&quot;vector&quot;</span></code>): Performs pure vector similarity search using the embeddings.</p></li>
<li><p><strong>Keyword Search</strong> (<code class="docutils literal notranslate"><span class="pre">mode=&quot;keyword&quot;</span></code>): Performs full-text search using SQLite’s FTS5.</p></li>
<li><p><strong>Hybrid Search</strong> (<code class="docutils literal notranslate"><span class="pre">mode=&quot;hybrid&quot;</span></code>): Combines both vector and keyword search for better results. First performs keyword search to get candidate matches, then applies vector similarity search on those candidates.</p></li>
</ol>
<p>Example with hybrid search:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">vector_io</span><span class="o">.</span><span class="n">query_chunks</span><span class="p">(</span>
    <span class="n">vector_db_id</span><span class="o">=</span><span class="s2">&quot;my_db&quot;</span><span class="p">,</span>
    <span class="n">query</span><span class="o">=</span><span class="s2">&quot;your query here&quot;</span><span class="p">,</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;hybrid&quot;</span><span class="p">,</span> <span class="s2">&quot;max_chunks&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;score_threshold&quot;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">},</span>
<span class="p">)</span>

<span class="c1"># Using RRF ranker</span>
<span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">vector_io</span><span class="o">.</span><span class="n">query_chunks</span><span class="p">(</span>
    <span class="n">vector_db_id</span><span class="o">=</span><span class="s2">&quot;my_db&quot;</span><span class="p">,</span>
    <span class="n">query</span><span class="o">=</span><span class="s2">&quot;your query here&quot;</span><span class="p">,</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;hybrid&quot;</span><span class="p">,</span>
        <span class="s2">&quot;max_chunks&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;score_threshold&quot;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span>
        <span class="s2">&quot;ranker&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;rrf&quot;</span><span class="p">,</span> <span class="s2">&quot;impact_factor&quot;</span><span class="p">:</span> <span class="mf">60.0</span><span class="p">},</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="c1"># Using weighted ranker</span>
<span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">vector_io</span><span class="o">.</span><span class="n">query_chunks</span><span class="p">(</span>
    <span class="n">vector_db_id</span><span class="o">=</span><span class="s2">&quot;my_db&quot;</span><span class="p">,</span>
    <span class="n">query</span><span class="o">=</span><span class="s2">&quot;your query here&quot;</span><span class="p">,</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;hybrid&quot;</span><span class="p">,</span>
        <span class="s2">&quot;max_chunks&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;score_threshold&quot;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span>
        <span class="s2">&quot;ranker&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;weighted&quot;</span><span class="p">,</span> <span class="s2">&quot;alpha&quot;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">},</span>  <span class="c1"># 70% vector, 30% keyword</span>
    <span class="p">},</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Example with explicit vector search:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">vector_io</span><span class="o">.</span><span class="n">query_chunks</span><span class="p">(</span>
    <span class="n">vector_db_id</span><span class="o">=</span><span class="s2">&quot;my_db&quot;</span><span class="p">,</span>
    <span class="n">query</span><span class="o">=</span><span class="s2">&quot;your query here&quot;</span><span class="p">,</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;vector&quot;</span><span class="p">,</span> <span class="s2">&quot;max_chunks&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;score_threshold&quot;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">},</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Example with keyword search:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">vector_io</span><span class="o">.</span><span class="n">query_chunks</span><span class="p">(</span>
    <span class="n">vector_db_id</span><span class="o">=</span><span class="s2">&quot;my_db&quot;</span><span class="p">,</span>
    <span class="n">query</span><span class="o">=</span><span class="s2">&quot;your query here&quot;</span><span class="p">,</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;keyword&quot;</span><span class="p">,</span> <span class="s2">&quot;max_chunks&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;score_threshold&quot;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">},</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="supported-search-modes">
<h2>Supported Search Modes<a class="headerlink" href="#supported-search-modes" title="Link to this heading"></a></h2>
<p>The SQLite vector store supports three search modes:</p>
<ol class="arabic simple">
<li><p><strong>Vector Search</strong> (<code class="docutils literal notranslate"><span class="pre">mode=&quot;vector&quot;</span></code>): Uses vector similarity to find relevant chunks</p></li>
<li><p><strong>Keyword Search</strong> (<code class="docutils literal notranslate"><span class="pre">mode=&quot;keyword&quot;</span></code>): Uses keyword matching to find relevant chunks</p></li>
<li><p><strong>Hybrid Search</strong> (<code class="docutils literal notranslate"><span class="pre">mode=&quot;hybrid&quot;</span></code>): Combines both vector and keyword scores using a ranker</p></li>
</ol>
<section id="hybrid-search">
<h3>Hybrid Search<a class="headerlink" href="#hybrid-search" title="Link to this heading"></a></h3>
<p>Hybrid search combines the strengths of both vector and keyword search by:</p>
<ul class="simple">
<li><p>Computing vector similarity scores</p></li>
<li><p>Computing keyword match scores</p></li>
<li><p>Using a ranker to combine these scores</p></li>
</ul>
<p>Two ranker types are supported:</p>
<ol class="arabic simple">
<li><p><strong>RRF (Reciprocal Rank Fusion)</strong>:</p>
<ul class="simple">
<li><p>Combines ranks from both vector and keyword results</p></li>
<li><p>Uses an impact factor (default: 60.0) to control the weight of higher-ranked results</p></li>
<li><p>Good for balancing between vector and keyword results</p></li>
<li><p>The default impact factor of 60.0 comes from the original RRF paper by Cormack et al. (2009) <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, which found this value to provide optimal performance across various retrieval tasks</p></li>
</ul>
</li>
<li><p><strong>Weighted</strong>:</p>
<ul class="simple">
<li><p>Linearly combines normalized vector and keyword scores</p></li>
<li><p>Uses an alpha parameter (0-1) to control the blend:</p>
<ul>
<li><p>alpha=0: Only use keyword scores</p></li>
<li><p>alpha=1: Only use vector scores</p></li>
<li><p>alpha=0.5: Equal weight to both (default)</p></li>
</ul>
</li>
</ul>
</li>
</ol>
<p>Example using RAGQueryConfig with different search modes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">llama_stack.apis.tools</span><span class="w"> </span><span class="kn">import</span> <span class="n">RAGQueryConfig</span><span class="p">,</span> <span class="n">RRFRanker</span><span class="p">,</span> <span class="n">WeightedRanker</span>

<span class="c1"># Vector search</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">RAGQueryConfig</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;vector&quot;</span><span class="p">,</span> <span class="n">max_chunks</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Keyword search</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">RAGQueryConfig</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;keyword&quot;</span><span class="p">,</span> <span class="n">max_chunks</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Hybrid search with custom RRF ranker</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">RAGQueryConfig</span><span class="p">(</span>
    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;hybrid&quot;</span><span class="p">,</span>
    <span class="n">max_chunks</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">ranker</span><span class="o">=</span><span class="n">RRFRanker</span><span class="p">(</span><span class="n">impact_factor</span><span class="o">=</span><span class="mf">50.0</span><span class="p">),</span>  <span class="c1"># Custom impact factor</span>
<span class="p">)</span>

<span class="c1"># Hybrid search with weighted ranker</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">RAGQueryConfig</span><span class="p">(</span>
    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;hybrid&quot;</span><span class="p">,</span>
    <span class="n">max_chunks</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">ranker</span><span class="o">=</span><span class="n">WeightedRanker</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">),</span>  <span class="c1"># 70% vector, 30% keyword</span>
<span class="p">)</span>

<span class="c1"># Hybrid search with default RRF ranker</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">RAGQueryConfig</span><span class="p">(</span>
    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;hybrid&quot;</span><span class="p">,</span> <span class="n">max_chunks</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>  <span class="c1"># Will use RRF with impact_factor=60.0</span>
</pre></div>
</div>
<p>Note: The ranker configuration is only used in hybrid mode. For vector or keyword modes, the ranker parameter is ignored.</p>
</section>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<p>You can install SQLite-Vec using pip:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>sqlite-vec
</pre></div>
</div>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Link to this heading"></a></h2>
<p>See <a class="reference external" href="https://github.com/asg017/sqlite-vec/tree/main">sqlite-vec’s GitHub repo</a> for more details about sqlite-vec in general.</p>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">db_path</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;class</span> <span class="pre">'str'&gt;</span></code></p></td>
<td><p>No</p></td>
<td><p></p></td>
<td><p>Path to the SQLite database file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">kvstore</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">utils.kvstore.config.RedisKVStoreConfig</span> <span class="pre">|</span> <span class="pre">utils.kvstore.config.SqliteKVStoreConfig</span> <span class="pre">|</span> <span class="pre">utils.kvstore.config.PostgresKVStoreConfig</span> <span class="pre">|</span> <span class="pre">utils.kvstore.config.MongoDBKVStoreConfig</span></code></p></td>
<td><p>No</p></td>
<td><p>sqlite</p></td>
<td><p>Config for KV store backend (SQLite only for now)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="sample-configuration">
<h2>Sample Configuration<a class="headerlink" href="#sample-configuration" title="Link to this heading"></a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">db_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${env.SQLITE_STORE_DIR:=~/.llama/dummy}/sqlite_vec.db</span>
<span class="nt">kvstore</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sqlite</span>
<span class="w">  </span><span class="nt">db_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${env.SQLITE_STORE_DIR:=~/.llama/dummy}/sqlite_vec_registry.db</span>
</pre></div>
</div>
</section>
</section>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Cormack, G. V., Clarke, C. L., &amp; Buettcher, S. (2009). <a class="reference external" href="https://dl.acm.org/doi/10.1145/1571941.1572114">Reciprocal rank fusion outperforms condorcet and individual rank learning methods</a>. In Proceedings of the 32nd international ACM SIGIR conference on Research and development in information retrieval (pp. 758-759).</p>
</aside>
</aside>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="inline_qdrant.html" class="btn btn-neutral float-left" title="inline::qdrant" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="inline_sqlite_vec.html" class="btn btn-neutral float-right" title="inline::sqlite_vec" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Meta.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Read the Docs</span>
    v: v0.2.20
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      <dd>
        <a href="/v0.2.20/">latest</a>
      </dd>
      <dd class="rtd-current-item">
        <a href="/v0.2.20/">v0.2.20</a>
      </dd>
      <dd>
        <a href="/v0.2.19/">v0.2.19</a>
      </dd>
      <dd>
        <a href="/v0.2.18/">v0.2.18</a>
      </dd>
      <dd>
        <a href="/v0.2.17/">v0.2.17</a>
      </dd>
      <dd>
        <a href="/v0.2.16/">v0.2.16</a>
      </dd>
      <dd>
        <a href="/v0.2.15/">v0.2.15</a>
      </dd>
      <dd>
        <a href="/v0.2.14/">v0.2.14</a>
      </dd>
      <dd>
        <a href="/v0.2.13/">v0.2.13</a>
      </dd>
      <dd>
        <a href="/v0.2.12/">v0.2.12</a>
      </dd>
      <dd>
        <a href="/v0.2.11/">v0.2.11</a>
      </dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>