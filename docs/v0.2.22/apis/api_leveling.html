


<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Llama Stack API Stability Leveling &mdash; llama-stack 0.2.22 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/my_theme.css?v=e0175246" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/dark_mode_css/general.css?v=c0a7eb24" />
      <link rel="stylesheet" type="text/css" href="../_static/dark_mode_css/dark.css?v=70edf1c7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=b360e4a1"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=09bf800d"></script>
      <script src="../_static/js/detect_theme.js?v=76226c80"></script>
      <script src="../_static/js/keyboard_shortcuts.js?v=62563c3b"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../_static/dark_mode_js/default_light.js?v=c2e647ce"></script>
      <script src="../_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="../_static/js/theme.js"></script>
    <script src="../_static/js/versions.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
 

<script src="../_static/version-loader.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            llama-stack
          </a>
              <div class="switch-menus">
                <div class="version-switch"></div>
                <div class="language-switch"></div>
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Llama Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Core Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providers/index.html">API Providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributions/index.html">Distributions Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_apis/index.html">Advanced APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../building_applications/index.html">AI Application Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploying/index.html">Deployment Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing to Llama Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html#llama-stack-benchmark-suite-on-kubernetes">Llama Stack Benchmark Suite on Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/index.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">llama-stack</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Llama Stack API Stability Leveling</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/apis/api_leveling.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="llama-stack-api-stability-leveling">
<h1>Llama Stack API Stability Leveling<a class="headerlink" href="#llama-stack-api-stability-leveling" title="Link to this heading"></a></h1>
<p>In order to provide a stable experience in Llama Stack, the various APIs need different stability levels indicating the level of support, backwards compatability, and overall production readiness.</p>
<section id="different-levels">
<h2>Different Levels<a class="headerlink" href="#different-levels" title="Link to this heading"></a></h2>
<section id="v1alpha">
<h3>v1alpha<a class="headerlink" href="#v1alpha" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Little to no expectation of support between versions</p></li>
<li><p>Breaking changes are permitted</p></li>
<li><p>Datatypes and parameters can break</p></li>
<li><p>Routes can be added and removed</p></li>
</ul>
<section id="graduation-criteria">
<h4>Graduation Criteria<a class="headerlink" href="#graduation-criteria" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>an API can graduate from <code class="docutils literal notranslate"><span class="pre">v1alpha</span></code> to <code class="docutils literal notranslate"><span class="pre">v1beta</span></code> if the team has identified the extent of the non-optional routes and the shape of their parameters/return types for the API eg. <code class="docutils literal notranslate"><span class="pre">/v1/openai/chat/completions</span></code>. Optional types can change.</p></li>
<li><p>CRUD must stay stable once in <code class="docutils literal notranslate"><span class="pre">v1beta</span></code>. This is a commitment to backward compatibility, guaranteeing that most code you write against the v1beta version will not break during future updates. We may make additive changes (like adding a new, optional field to a response), but we will not make breaking changes (like renaming an existing “modelName” field to “name”, changing an ID’s data type from an integer to a string, or altering an endpoint URL).</p></li>
<li><p>for OpenAI APIs, a comparison to the OpenAI spec for the specific API can be done to ensure completeness.</p></li>
</ul>
</section>
</section>
<section id="v1beta">
<h3>v1beta<a class="headerlink" href="#v1beta" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>API routes remain consistent between versions</p></li>
<li><p>Parameters and return types are not ensured between versions</p></li>
<li><p>API, besides minor fixes and adjustments, should be <em>almost</em> v1. Changes should not be drastic.</p></li>
</ul>
<section id="id1">
<h4>Graduation Criteria<a class="headerlink" href="#id1" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>an API can graduate from <code class="docutils literal notranslate"><span class="pre">v1beta</span></code> to <code class="docutils literal notranslate"><span class="pre">v1</span></code> if the API surface and datatypes are complete as identified by the team. The parameters and return types that are mandatory for each route are stable. All aspects of graduating from <code class="docutils literal notranslate"><span class="pre">v1alpha1</span></code> to <code class="docutils literal notranslate"><span class="pre">v1beta</span></code> apply as well.</p></li>
<li><p>Optional parameters, routes, or parts of the return type can be added after graduating to <code class="docutils literal notranslate"><span class="pre">v1</span></code></p></li>
</ul>
</section>
</section>
<section id="v1-stable">
<h3>v1 (stable)<a class="headerlink" href="#v1-stable" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Considered stable</p></li>
<li><p>Backwards compatible between Z-streams</p>
<ul>
<li><p>Y-stream breaking changes must go through the proper approval and announcement process.</p></li>
</ul>
</li>
<li><p>Datatypes for a route and its return types cannot change between Z-streams</p>
<ul>
<li><p>Y-stream datatype changes should be sparing, unless the changes are additional net-new parameters</p></li>
</ul>
</li>
<li><p>Must have proper conformance testing as outlined in https://github.com/llamastack/llama-stack/issues/3237</p></li>
</ul>
</section>
<section id="v2-major-versions">
<h3>v2+ (Major Versions)<a class="headerlink" href="#v2-major-versions" title="Link to this heading"></a></h3>
<p>Introducing a new major version like <code class="docutils literal notranslate"><span class="pre">/v2</span></code> is a significant and disruptive event that should be treated as a last resort. It is reserved for essential changes to a stable <code class="docutils literal notranslate"><span class="pre">/v1</span></code> API that are fundamentally backward-incompatible and cannot be implemented through additive, non-breaking changes or breaking changes across X/Y-Stream releases (x.y.z).</p>
<p>If a <code class="docutils literal notranslate"><span class="pre">/v2</span></code> version is deemed absolutely necessary, it must adhere to the following protocol to ensure a sane and predictable transition for users:</p>
<section id="lifecycle-progression">
<h4>Lifecycle Progression<a class="headerlink" href="#lifecycle-progression" title="Link to this heading"></a></h4>
<p>A new major version must follow the same stability lifecycle as <code class="docutils literal notranslate"><span class="pre">/v1</span></code>. It will be introduced as <code class="docutils literal notranslate"><span class="pre">/v2alpha</span></code>, mature to <code class="docutils literal notranslate"><span class="pre">/v2beta</span></code>, and finally become stable as <code class="docutils literal notranslate"><span class="pre">/v2</span></code>.</p>
</section>
<section id="coexistence">
<h4>Coexistence:<a class="headerlink" href="#coexistence" title="Link to this heading"></a></h4>
<p>The new <code class="docutils literal notranslate"><span class="pre">/v2</span></code> API must be introduced alongside the existing <code class="docutils literal notranslate"><span class="pre">/v1</span></code> API and run in parallel. It must not replace the <code class="docutils literal notranslate"><span class="pre">/v1</span></code> API immediately.</p>
</section>
<section id="deprecation-policy">
<h4>Deprecation Policy:<a class="headerlink" href="#deprecation-policy" title="Link to this heading"></a></h4>
<p>When a <code class="docutils literal notranslate"><span class="pre">/v2</span></code> API is introduced, a clear and generous deprecation policy for the <code class="docutils literal notranslate"><span class="pre">/v1</span></code> API must be published simultaneously. This policy must outline the timeline for the eventual removal of the <code class="docutils literal notranslate"><span class="pre">/v1</span></code> API, giving users ample time to migrate.</p>
</section>
</section>
<section id="api-stability-vs-provider-stability">
<h3>API Stability vs. Provider Stability<a class="headerlink" href="#api-stability-vs-provider-stability" title="Link to this heading"></a></h3>
<p>The leveling introduced in this document relates to the stability of the API and not specifically the providers within the API.</p>
<p>Providers can iterate as much as they want on functionality as long as they work within the bounds of an API. If they need to change the API, then the API should not be <code class="docutils literal notranslate"><span class="pre">/v1</span></code>, or those breaking changes can only happen on a y-stream release basis.</p>
</section>
<section id="approval-and-announcement-process-for-breaking-changes">
<h3>Approval and Announcement Process for Breaking Changes<a class="headerlink" href="#approval-and-announcement-process-for-breaking-changes" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>PR Labeling</strong>: Any pull request that introduces a breaking API change must be clearly labeled with <code class="docutils literal notranslate"><span class="pre">breaking-change</span></code>.</p></li>
<li><p><strong>PR Title/Commit</strong>: Any pull request that introduces a breaking API change must contain <code class="docutils literal notranslate"><span class="pre">BREAKING</span> <span class="pre">CHANGE</span></code> in the title and commit footer. Alternatively, the commit can include <code class="docutils literal notranslate"><span class="pre">!</span></code>, eg. <code class="docutils literal notranslate"><span class="pre">feat(api)!:</span> <span class="pre">title</span> <span class="pre">goes</span> <span class="pre">here</span></code> This is outlined in the <a class="reference external" href="https://www.conventionalcommits.org/en/v1.0.0/#specification">conventional commits documentation</a></p></li>
<li><p><strong>Maintainer Review</strong>: At least one maintainer must explicitly acknowledge the breaking change during review by applying the <code class="docutils literal notranslate"><span class="pre">breaking-change</span></code> label. An approval must come with this label or the acknowledgement this label has already been applied.</p></li>
<li><p><strong>Announcement</strong>: Breaking changes require inclusion in release notes and, if applicable, a separate communication (e.g., Discord, Github Issues, or GitHub Discussions) prior to release.</p></li>
</ul>
<p>If a PR has proper approvals, labels, and commit/title hygiene, the failing API conformance tests will be bypassed.</p>
</section>
</section>
<section id="enforcement">
<h2>Enforcement<a class="headerlink" href="#enforcement" title="Link to this heading"></a></h2>
<section id="migration-of-api-routes-under-v1alpha-v1beta-and-v1">
<h3>Migration of API routes under <code class="docutils literal notranslate"><span class="pre">/v1alpha</span></code>, <code class="docutils literal notranslate"><span class="pre">/v1beta</span></code>, and <code class="docutils literal notranslate"><span class="pre">/v1</span></code><a class="headerlink" href="#migration-of-api-routes-under-v1alpha-v1beta-and-v1" title="Link to this heading"></a></h3>
<p>Instead of placing every API under <code class="docutils literal notranslate"><span class="pre">/v1</span></code>, any API that is not fully stable or complete should go under <code class="docutils literal notranslate"><span class="pre">/v1alpha</span></code> or <code class="docutils literal notranslate"><span class="pre">/v1beta</span></code>. For example, at the time of this writing,  <code class="docutils literal notranslate"><span class="pre">post_training</span></code> belongs here, as well as any OpenAI-compatible API whose surface does not exactly match the upstream OpenAI API it mimics.</p>
<p>This migration is crucial as we get Llama Stack in the hands of users who intend to productize various APIs. A clear view of what is stable and what is actively being developed will enable users to pick and choose various APIs to build their products on.</p>
<p>This migration will be a breaking change for any API moving out of <code class="docutils literal notranslate"><span class="pre">/v1</span></code>. Ideally, this should happen before 0.3.0 and especially 1.0.0.</p>
</section>
<section id="x-stability-tags-in-the-openapi-spec-for-oasdiff">
<h3><code class="docutils literal notranslate"><span class="pre">x-stability</span></code> tags in the OpenAPI spec for oasdiff<a class="headerlink" href="#x-stability-tags-in-the-openapi-spec-for-oasdiff" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">x-stability</span></code> tags allow tools like oasdiff to enforce different rules for different stability levels; these tags should match the routes: <a class="reference external" href="https://github.com/oasdiff/oasdiff/blob/main/docs/STABILITY.md">oasdiff stability</a></p>
</section>
<section id="testing">
<h3>Testing<a class="headerlink" href="#testing" title="Link to this heading"></a></h3>
<p>The testing of each stable API is already outlined in <a class="reference external" href="https://github.com/llamastack/llama-stack/issues/3237">issue #3237</a> and is being worked on. These sorts of conformance tests should apply primarily to <code class="docutils literal notranslate"><span class="pre">/v1</span></code> APIs only, with <code class="docutils literal notranslate"><span class="pre">/v1alpha</span></code> and <code class="docutils literal notranslate"><span class="pre">/v1beta</span></code> having any tests the maintainers see fit as well as basic testing to ensure the routing works properly.</p>
</section>
<section id="new-apis-going-forward">
<h3>New APIs going forward<a class="headerlink" href="#new-apis-going-forward" title="Link to this heading"></a></h3>
<p>Any subsequently introduced APIs should be introduced as <code class="docutils literal notranslate"><span class="pre">/v1alpha</span></code></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Meta.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Read the Docs</span>
    v: v0.2.22
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      <dd>
        <a href="/v0.2.21/">latest</a>
      </dd>
      <dd>
        <a href="/v0.2.21/">v0.2.21</a>
      </dd>
      <dd>
        <a href="/v0.2.20/">v0.2.20</a>
      </dd>
      <dd>
        <a href="/v0.2.19/">v0.2.19</a>
      </dd>
      <dd>
        <a href="/v0.2.18/">v0.2.18</a>
      </dd>
      <dd>
        <a href="/v0.2.17/">v0.2.17</a>
      </dd>
      <dd>
        <a href="/v0.2.16/">v0.2.16</a>
      </dd>
      <dd>
        <a href="/v0.2.15/">v0.2.15</a>
      </dd>
      <dd>
        <a href="/v0.2.14/">v0.2.14</a>
      </dd>
      <dd>
        <a href="/v0.2.13/">v0.2.13</a>
      </dd>
      <dd>
        <a href="/v0.2.12/">v0.2.12</a>
      </dd>
      <dd>
        <a href="/v0.2.11/">v0.2.11</a>
      </dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>